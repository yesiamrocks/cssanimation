/*!
 * ca-letteranimation.js - Letter, word, and line animation enhancements
 * Part of: https://cssanimation.io/
 * Version: 5.3.0
 *
 * Author: Shafayetul Islam Pavel
 * LinkedIn: https://www.linkedin.com/in/shafayetul/
 * Email: hello@cssanimation.io
 * GitHub: https://github.com/yesiamrocks/cssanimation.io
 *
 * Title: A lightweight, CSS-only enhancement script for text animations.
 * Description: Provides dynamic letter-by-letter, word-by-word, and line-by-line animation
 * capabilities, enhancing HTML elements with customizable text effects via HTML attributes.
 *
 * © 2025 Shafayetul Islam Pavel – All rights reserved.
 */
!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";!function(){if("undefined"==typeof window)return;function t(t,e){if(!t||!e)return null;const n=document.createElement("span");n.style.visibility="hidden",n.style.position="absolute",n.className=e,document.body.appendChild(n);let l=window.getComputedStyle(n).getPropertyValue("animation-duration");if(document.body.removeChild(n),l){if(l=l.trim(),l.endsWith("ms"))return parseFloat(l);if(l.endsWith("s"))return 1e3*parseFloat(l)}return null}function e(t){if(t){const e=Number(t.trim());if(!isNaN(e))return e}return null}const n=document.createElement("style");function l(t,e){document.querySelectorAll(`[${t}]`).forEach((n=>{const l=o(n.getAttribute("ca__lt-delay")||"100",100),a=(n.getAttribute(t)||"ca__lt-letter").trim().split(/\s+/),r=i(n,e,l,a);n.innerHTML=r.join("")}))}function i(t,e,n,l){const o=[],a=[];t.childNodes.forEach((t=>{if(t.nodeType===Node.TEXT_NODE)a.push(...t.textContent);else if(t.nodeType===Node.ELEMENT_NODE){const a=document.createElement(t.tagName);for(const e of t.attributes)a.setAttribute(e.name,e.value);a.innerHTML=i(t,e,n,l).join(""),o.push(a.outerHTML)}}));const r=a.map(((t,e)=>{if(" "!==t){const i=l[e]||l[l.length-1],o=null!=n[e]?n[e]:n[n.length-1];return`<span class="${i}" style="\n                    animation-delay:${o*e}ms;\n                    -moz-animation-delay:${o*e}ms;\n                    -webkit-animation-delay:${o*e}ms;\n                ">${t}</span>`}return" "}));if("random"===e){const t=r.map(((t,e)=>e));!function(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}(t);const e=Array(r.length).fill("");t.forEach(((t,l)=>{e[t]=r[t].replace(/animation-delay:\d+ms/g,`animation-delay:${n[n.length-1]*l}ms`)})),o.push(e.join(""))}else"reverse"===e?o.push(r.map(((t,e,l)=>t.replace(/animation-delay:\d+ms/g,`animation-delay:${n[n.length-1]*(l.length-1-e)}ms`))).join("")):o.push(r.join(""));return o}function o(t,e){if(!t)return[e];const n=t.trim().split(/\s+/).map((t=>{const n=Number(t);return isNaN(n)?e:n}));return n.length>0?n:[e]}function a(t,e,n,l,i,o="br"){let a=[];if("word"===t)a=e.split(/(\s+)/);else if("line"===t)if("dot"===o){const t=e.split(/(\.)/),n=[];for(let e=0;e<t.length;e++){let l=t[e];""!==l&&("."!==l&&e+1<t.length&&"."===t[e+1]?(n.push(l+"."),e++):"."!==l&&n.push(l))}a=n}else a=e.split(/(\n|<br\s*\/?>)/);let r=0,s=0;return a.map((t=>{if(!t.trim())return t;const e=l[r]||l[l.length-1],o=null!=n[r]?n[r]:n[n.length-1],a=s+o,u=`<span class="${e}" style="\n                    animation-delay:${a}ms;\n                    -moz-animation-delay:${a}ms;\n                    -webkit-animation-delay:${a}ms;\n                ">${t}</span>`;return s=a+i,r++,u})).join("")}n.textContent="\n        .ca__lt-letter, .ca__lt-word, .ca__lt-line {\n            display: inline-block;\n        }\n    ",document.head.appendChild(n),window.addEventListener("DOMContentLoaded",(()=>{l("ca__lt-sequence","sequence"),l("ca__lt-random","random"),l("ca__lt-reverse","reverse"),document.querySelectorAll("[ca__lt-word]").forEach((n=>{const l=o(n.getAttribute("ca__lt-delay")||"100",100),i=(n.getAttribute("ca__lt-word")||"ca__lt-word").trim().split(/\s+/);let r=e(n.getAttribute("ca__lt-base-duration"));if(null===r&&i.length>0){const e=t(n,i[0]);null!==e&&(r=e)}null===r&&(r=1e3),n.innerHTML=a("word",n.textContent,l,i,r)})),document.querySelectorAll("[ca__lt-line]").forEach((n=>{const l=o(n.getAttribute("ca__lt-delay")||"150",150),i=(n.getAttribute("ca__lt-line")||"ca__lt-line").trim().split(/\s+/),r="dot"===n.getAttribute("ca__lt-separator")?"dot":"br";let s=e(n.getAttribute("ca__lt-base-duration"));if(null===s&&i.length>0){const e=t(n,i[0]);null!==e&&(s=e)}null===s&&(s=1e3),n.innerHTML=a("line",n.textContent,l,i,s,r)}))}))}()}));
