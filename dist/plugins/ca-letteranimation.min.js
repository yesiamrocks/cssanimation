/*!
 * ca-letteranimation.min.js
 * Title: Letter, word, and line animation enhancements
 * Description: Provides dynamic letter-by-letter, word-by-word, and line-by-line animation capabilities, enhancing HTML elements with customizable text effects via HTML attributes.
 * Part of: https://cssanimation.io/
 * Version: 6.10.0
 *
 * Author: Shafayetul Islam Pavel
 * LinkedIn: https://www.linkedin.com/in/shafayetul/
 * Email: hello@cssanimation.io
 * GitHub: https://github.com/yesiamrocks/cssanimation
 *
 * © 2025 Shafayetul Islam Pavel – All rights reserved.
 */
!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";!function(){if("undefined"==typeof window)return;function t(t,n){if(!t||!n)return null;const e=document.createElement("span");e.style.visibility="hidden",e.style.position="absolute",e.className=n,document.body.appendChild(e);let i=window.getComputedStyle(e).getPropertyValue("animation-duration");if(document.body.removeChild(e),i){if(i=i.trim(),i.endsWith("ms"))return parseFloat(i);if(i.endsWith("s"))return 1e3*parseFloat(i)}return null}function n(t){if(t){const n=Number(t.trim());if(!isNaN(n))return n}return null}const e=document.createElement("style");function i(){o("ca__lt-sequence","sequence"),o("ca__lt-random","random"),o("ca__lt-reverse","reverse"),document.querySelectorAll(".cssanimation[ca__lt-word]").forEach((e=>{e._originalTextContent?e.textContent=e._originalTextContent:e._originalTextContent=e.textContent;const i=r(e.getAttribute("ca__lt-delay")||"100",100),o=(e.getAttribute("ca__lt-word")||"ca__lt-word").trim().split(/\s+/);let l=n(e.getAttribute("ca__lt-base-duration"));if(null===l&&o.length>0){const n=t(e,o[0]);null!==n&&(l=n)}null===l&&(l=1e3),e.innerHTML=a("word",e.textContent,i,o,l)})),document.querySelectorAll(".cssanimation[ca__lt-line]").forEach((e=>{e._originalTextContent?e.textContent=e._originalTextContent:e._originalTextContent=e.textContent;const i=r(e.getAttribute("ca__lt-delay")||"150",150),o=(e.getAttribute("ca__lt-line")||"ca__lt-line").trim().split(/\s+/),l="dot"===e.getAttribute("ca__lt-separator")?"dot":"br";let s=n(e.getAttribute("ca__lt-base-duration"));if(null===s&&o.length>0){const n=t(e,o[0]);null!==n&&(s=n)}null===s&&(s=1e3),e.innerHTML=a("line",e.textContent,i,o,s,l)}))}function o(t,n){document.querySelectorAll(`.cssanimation[${t}]`).forEach((e=>{e._originalTextContent?e.textContent=e._originalTextContent:e._originalTextContent=e.textContent;const i=r(e.getAttribute("ca__lt-delay")||"100",100),o=(e.getAttribute(t)||"ca__lt-letter").trim().split(/\s+/),a=l(e,n,i,o);e.innerHTML=a.join("")}))}function l(t,n,e,i){const o=[],r=[];t.childNodes.forEach((t=>{if(t.nodeType===Node.TEXT_NODE)r.push(...t.textContent);else if(t.nodeType===Node.ELEMENT_NODE){const r=document.createElement(t.tagName);for(const n of t.attributes)r.setAttribute(n.name,n.value);r.innerHTML=l(t,n,e,i).join(""),o.push(r.outerHTML)}}));const a=r.map(((t,n)=>{if(" "!==t){const o=i[n%i.length]||i[i.length-1],l=null!=e[n%e.length]?e[n%e.length]:e[e.length-1];return`<span class="ca__lt-letter ${o}" style="\n                        animation-delay:${l*n}ms;\n                        -moz-animation-delay:${l*n}ms;\n                        -webkit-animation-delay:${l*n}ms;\n                    ">${t}</span>`}return" "}));if("random"===n){const t=a.filter((t=>""!==t.trim()));a.filter((t=>""===t.trim()));const n=t.map(((t,n)=>n));!function(t){for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}}(n);const i=Array(t.length).fill("");n.forEach(((n,o)=>{i[n]=t[n].replace(/animation-delay:\d+ms/g,`animation-delay:${e[e.length-1]*o}ms`)}));let l=0,r=[];for(const t of a)""!==t.trim()?(r.push(i[l]),l++):r.push(t);o.push(r.join(""))}else if("reverse"===n){const t=a.filter((t=>""!==t.trim())),n=t.length,i=t.map(((t,i)=>t.replace(/animation-delay:\d+ms/g,`animation-delay:${e[e.length-1]*(n-1-i)}ms`)));let l=0,r=[];for(const t of a)""!==t.trim()?(r.push(i[l]),l++):r.push(t);o.push(r.join(""))}else o.push(a.join(""));return o}function r(t,n){if(!t)return[n];const e=t.trim().split(/\s+/).map((t=>{const e=Number(t);return isNaN(e)?n:e}));return e.length>0?e:[n]}function a(t,n,e,i,o,l="br"){let r=[];const a=n;if("word"===t)r=a.split(/(\s+)/);else if("line"===t)if("dot"===l){const t=a.split(/(\.)/),n=[];for(let e=0;e<t.length;e++){let i=t[e].trim();""!==i&&("."!==i&&e+1<t.length&&"."===t[e+1]?(n.push(i+"."),e++):"."!==i&&n.push(i))}r=n}else r=a.split(/(\n|<br\s*\/?>)/);let s=[],c=0,u=0;return r.forEach((n=>{if(!n.trim()&&"\n"!==n&&!/<br\s*\/?>/.test(n))return void s.push(n);if("\n"===n||/<br\s*\/?>/.test(n))return void s.push(n);const l=i[c%i.length]||i[i.length-1],r=null!=e[c%e.length]?e[c%e.length]:e[e.length-1],a=u+r,d=`<span class="${"word"===t?"ca__lt-word":"ca__lt-line"} ${l}" style="\n                        animation-delay:${a}ms;\n                        -moz-animation-delay:${a}ms;\n                        -webkit-animation-delay:${a}ms;\n                    ">${n}</span>`;s.push(d),u=a+o,c++})),s.join("")}e.textContent="\n        .ca__lt-letter, .ca__lt-word, .ca__lt-line {\n            display: inline-block;\n            animation-duration: 1s;\n            animation-fill-mode: both;\n        }\n    ",document.head.appendChild(e),window.CSSAnimationLetter=window.CSSAnimationLetter||{},window.CSSAnimationLetter.init=i,window.addEventListener("DOMContentLoaded",(()=>{i()}))}()}));
