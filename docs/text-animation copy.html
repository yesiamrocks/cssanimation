<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Text Animation Preview Generator</title>
        <link rel="stylesheet"
            href="./dist/cssanimation.css">
        <style>
    body {
      font-family: sans-serif;
      padding: 2rem;
    }
    label, select, input, textarea {
      display: block;
      margin: 0.5rem 0;
      width: 100%;
    }
    textarea {
      height: 80px;
    }
    #preview {
      margin-top: 2rem;
    }
  </style>
    </head>
    <body>
        <h2>CSSAnimation Text Preview Generator</h2>

        <label for="animationType">Animation Type</label>
        <select id="animationType">
            <option value="ca__lt-sequence">ca__lt-sequence</option>
            <option value="ca__lt-random">ca__lt-random</option>
            <option value="ca__lt-reverse">ca__lt-reverse</option>
            <option value="ca__lt-word">ca__lt-word</option>
            <option value="ca__lt-line">ca__lt-line</option>
        </select>

        <label for="animationClass">Animation Classes (space-separated)</label>
        <input type="text" id="animationClass"
            placeholder="e.g. ca__fx-FadeIn ca__fx-BounceInTop" />

        <label for="textContent">Demo Text</label>
        <textarea id="textContent">CSSAnimation Letters Animate</textarea>

        <label for="delay">ca__lt-delay (optional, space-separated)</label>
        <input type="text" id="delay" placeholder="e.g. 100 300 500" />

        <label for="duration">ca__lt-base-duration (optional)</label>
        <input type="number" id="duration" placeholder="e.g. 750" />

        <div id="separatorOption" style="display:none;">
            <label for="separator">ca__lt-separator</label>
            <select id="separator">
                <option value>(default: line break)</option>
                <option value="dot">dot</option>
            </select>
        </div>

        <button onclick="updatePreview()">Update Preview</button>

        <div id="preview">
            <h1 class="cssanimation" id="animatedText"
                ca__lt-sequence="ca__fx-FadeIn">
                CSSAnimation Letters Animate
            </h1>
        </div>

        <script
            src="./dist/ca-letteranimation.js"></script>
        <script>
    const typeSelect = document.getElementById('animationType');
    const classInput = document.getElementById('animationClass');
    const textInput = document.getElementById('textContent');
    const delayInput = document.getElementById('delay');
    const durationInput = document.getElementById('duration');
    const separatorDiv = document.getElementById('separatorOption');
    const separatorInput = document.getElementById('separator');
    const animatedText = document.getElementById('animatedText');

    typeSelect.addEventListener('change', () => {
      separatorDiv.style.display = typeSelect.value === 'ca__lt-line' ? 'block' : 'none';
    });

    function updatePreview() {
      // Clear all ca__lt-* attributes
      Array.from(animatedText.attributes).forEach(attr => {
        if (attr.name.startsWith('ca__lt-')) {
          animatedText.removeAttribute(attr.name);
        }
      });

      // Set the selected ca__lt-* attribute
      const type = typeSelect.value;
      const classes = classInput.value.trim();
      if (classes) {
        animatedText.setAttribute(type, classes);
      }

      // Set text content
      animatedText.textContent = textInput.value;

      // Delay
      const delay = delayInput.value.trim();
      if (delay) {
        animatedText.setAttribute('ca__lt-delay', delay);
      }

      // Duration
      const duration = durationInput.value.trim();
      if (duration) {
        animatedText.setAttribute('ca__lt-base-duration', duration);
      }

      // Separator
      if (type === 'ca__lt-line') {
        const separator = separatorInput.value;
        if (separator) {
          animatedText.setAttribute('ca__lt-separator', separator);
        }
      }

      // Re-run the animation script
      window.caLetterAnimation?.(animatedText);
    }
  </script>
    </body>
</html>
